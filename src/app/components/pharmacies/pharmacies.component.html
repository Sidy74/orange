<div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
  <!-- Section de recherche et filtre -->
  <div style="display: flex; align-items: center; gap: 10px;">
    <input 
      type="text" 
      placeholder="Rechercher..." 
      [(ngModel)]="searchTerm"  
     (input)="onSearch ()"
      style="padding: 8px; border: 1px solid #ddd; border-radius: 4px; width: 200px;" 
    />
    <button 
      style="padding: 8px 16px; background-color: #000; color: #fff; border: none; border-radius: 4px; cursor: pointer;"
    >
      Filtrer
    </button>
  </div>

  <!-- Bouton Ajouter une pharmacie -->
  <button 
    (click)="openAddPharmacyDialog()"
    style="padding: 8px 16px; background-color: #000; color: #fff; border: none; border-radius: 4px; cursor: pointer;"
  >
    Ajouter une pharmacie
  </button>
</div>

<table style="width: 100%; border-collapse: collapse;">
  <thead style="background-color: #000; color: #fff;">
    <tr>
      <th style="padding: 10px; text-align: left;">#</th>
      <th style="padding: 10px; text-align: left;">Code</th>
      <th style="padding: 10px; text-align: left;">Nom</th>
      <th style="padding: 10px; text-align: left;">Status</th>
      <th style="padding: 10px; text-align: left;">Actions</th>
    </tr>
  </thead>
  <tbody>
    @if (filteredPharmacies.length === 0) {
      <tr>
        <td colspan="5" style="padding: 10px; text-align: center;">Aucune pharmacie disponible</td>
      </tr>
    }

    @for (pharmacie of filteredPharmacies; track $index) {
      <tr>
        <td style="padding: 10px; border-bottom: 1px solid #ddd;">{{pharmacie.id}}</td>
        <td style="padding: 10px; border-bottom: 1px solid #ddd;">{{pharmacie.code}}</td>
        <td style="padding: 10px; border-bottom: 1px solid #ddd;">{{pharmacie.name}}</td>
        <td style="padding: 10px; border-bottom: 1px solid #ddd;">{{pharmacie.isEnabled ? 'Actif' : 'Inactif'}}</td>
        <td style="padding: 10px; border-bottom: 1px solid #ddd;">
          <mat-icon style="cursor: pointer; margin-right: 8px;" (click)="editPharmacy(pharmacie)">edit</mat-icon>
          <mat-icon style="cursor: pointer; margin-right: 8px;"  (click)="openConfirmDialog(pharmacie)">delete</mat-icon>
          <mat-icon style="cursor: pointer;" >visibility</mat-icon>
        </td>
      </tr>
    }
  </tbody>
</table>



@if (snackbarService.showSnackbar) {
<app-snackbar 
  [message]="snackbarService.snackbarMessage" 
  [type]="snackbarService.snackbarType" 
  [duration]="3000"
></app-snackbar>}